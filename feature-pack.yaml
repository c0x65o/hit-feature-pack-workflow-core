# Feature Pack: workflow-core
# A HIT feature pack

name: workflow-core
title: System Workflows
description: Workflow core feature pack

# ─────────────────────────────────────────────────────────────────────────────
# NAVIGATION - Sidebar/topbar items
# ─────────────────────────────────────────────────────────────────────────────
nav:
  - id: workflows
    label: Workflows
    path: /workflows
    icon: Workflow
    group: system
    weight: 900
    showWhen: authenticated
    roles: [admin]

# ─────────────────────────────────────────────────────────────────────────────
# SCHEMA - Drizzle ORM table definitions
# ─────────────────────────────────────────────────────────────────────────────
schema:
  source: src/schema/workflows.ts
  exports:
    - principalTypeEnum
    - workflows
    - workflowVersions
    - workflowAcls
    - workflowRuns
    - workflowRunEvents
    - workflowTasks
    - WORKFLOW_PERMISSIONS
    - WorkflowPermission
    - Workflow
    - InsertWorkflow
    - WorkflowVersion
    - InsertWorkflowVersion
    - WorkflowAcl
    - InsertWorkflowAcl
    - WorkflowRun
    - InsertWorkflowRun
    - WorkflowRunEvent
    - InsertWorkflowRunEvent
    - WorkflowTask
    - InsertWorkflowTask

# ─────────────────────────────────────────────────────────────────────────────
# PERMISSIONS - Action definitions (for admin-core permissions UI + runtime checks)
# ─────────────────────────────────────────────────────────────────────────────
# Permissions are schema-driven and live under:
#   schema/permissions.yaml

# ─────────────────────────────────────────────────────────────────────────────
# DEPENDENCIES
# ─────────────────────────────────────────────────────────────────────────────
requires:
  modules: []

dependencies:
  feature_packs:
    - name: erp-shell-core
